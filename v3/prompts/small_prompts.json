{
    "benchmark_run_name": "ComprehensiveBenchmark_v3",
    "prompts": [
        {
            "prompt_id": "P001_Basic_Heading",
            "prompt_description": "Generate a webpage with a single H1 heading containing the text 'Welcome Page'.",
            "adherence_checks": [
                {"type": "element_presence", "name": "H1 Presence", "selector": "h1", "points": 5},
                {"type": "text_content", "name": "H1 Text", "selector": "h1", "expected_text": "Welcome Page", "match_type":"exact", "points": 5}
            ]
        },
        {
            "prompt_id": "P019_Theme_Switcher_LocalStorage",
            "prompt_description": "Implement a theme switcher button (data-testid 'theme-toggle'). Clicking it toggles a 'dark-mode' class on the <body> and saves preference 'theme:dark' or 'theme:light' in localStorage. Page should load with saved theme.",
            "adherence_checks": [
                {"type": "element_presence", "name": "Theme Toggle Button", "selector": "[data-testid='theme-toggle']", "points": 5},
                {
                    "type": "interaction", "name": "Toggle Dark Mode & Check LocalStorage", "points": 20,
                     "initial_setup": [{"action_type": "clear_local_storage_key", "key":"theme"}], 
                    "sequence": [
                        {"step_name": "Click to Dark Mode", "trigger_element": {"selector": "[data-testid='theme-toggle']"}, "action": {"type": "click"}, "wait_for_outcome_ms": 300,
                         "expected_outcomes": [
                             {"outcome_type": "class_change", "element_selector": "body", "expected_class_present": "dark-mode"},
                             {"outcome_type": "custom_script_evaluates_true", "script": "return localStorage.getItem('theme') === 'dark';"}
                         ]},
                        {"step_name": "Click to Light Mode", "trigger_element": {"selector": "[data-testid='theme-toggle']"}, "action": {"type": "click"}, "wait_for_outcome_ms": 300,
                         "expected_outcomes": [
                             {"outcome_type": "class_change", "element_selector": "body", "expected_class_absent": "dark-mode"},
                             {"outcome_type": "custom_script_evaluates_true", "script": "return localStorage.getItem('theme') === 'light';"}
                         ]}
                    ],
                    "final_cleanup": [{"action_type": "clear_local_storage_key", "key":"theme"}]
                },
                {
                    "type": "interaction", "name": "Load with Saved Dark Theme", "points": 10,
                    "initial_setup": [{"action_type": "set_local_storage_key", "key":"theme", "value":"dark"}],
                    "trigger_element": {"selector":"body"}, "action":{"type":"wait", "duration_ms":100, "note":"Page reloads implicitly if this is a separate test run. Or script needs to reload page."},
                     "wait_for_outcome_ms": 500,
                     "expected_outcomes": [
                        {"outcome_type": "class_change", "element_selector": "body", "expected_class_present": "dark-mode"}
                     ],
                    "final_cleanup": [{"action_type": "clear_local_storage_key", "key":"theme"}]
                }
            ]
        },
        {
            "prompt_id": "P020_Full_Application_Shell_Responsive_ARIA",
            "prompt_description": "Generate a full application shell: fixed responsive header (logo, user menu, search), collapsible sidebar navigation (ARIA landmark, keyboard navigable), main content area with breadcrumbs, and a status footer. Ensure all interactive elements are focusable and have accessible names.",
            "viewports_to_test": {"desktop": [1440, 900], "mobile": [390, 844]},
            "adherence_checks": [
                {"type": "element_presence", "name": "Header (banner role)", "selector": "header[role='banner']", "points": 5},
                {"type": "element_presence", "name": "Logo in Header", "selector": "header [data-testid='app-logo']", "points": 3},
                {"type": "element_presence", "name": "User Menu in Header (button with aria-haspopup)", "selector": "header button[aria-haspopup='true'][data-testid='user-menu-trigger']", "points": 4},
                {"type": "element_presence", "name": "Search Input in Header", "selector": "header input[type='search'][aria-label*='Search']", "points": 4},
                
                {"type": "element_presence", "name": "Sidebar Navigation (navigation role)", "selector": "nav[role='navigation'][data-testid='app-sidebar']", "points": 5},
                {"type": "css_property", "name": "Sidebar Collapsed on Mobile (e.g., width 0 or transform)", "selector": "[data-testid='app-sidebar']", "property_name": "width", "expected_value": "0px", "viewports":["mobile"], "points": 4, "note":"Or check for a class that hides it, or transformX(-100%)"},
                {"type": "element_presence", "name": "Sidebar Toggle Button (mobile)", "selector": "button[data-testid='sidebar-toggle'][aria-controls='app-sidebar']", "viewports":["mobile"], "points": 3},
                
                {"type": "element_presence", "name": "Main Content Area (main role)", "selector": "main[role='main']", "points": 5},
                {"type": "element_presence", "name": "Breadcrumbs Nav", "selector": "main nav[aria-label='Breadcrumb']", "points": 3},
                {"type": "element_count", "name": "Breadcrumb Items", "selector": "main nav[aria-label='Breadcrumb'] li", "min_count": 2, "points": 2},
                
                {"type": "element_presence", "name": "Status Footer (contentinfo role)", "selector": "footer[role='contentinfo']", "points": 5},
                {"type": "text_content", "name": "Status Text in Footer", "selector": "footer [data-testid='app-status']", "expected_text": "Ready", "match_type":"contains", "points": 2},

                {"type": "interaction", "name": "Sidebar Toggle on Mobile", "points": 10, "viewports":["mobile"],
                    "initial_setup":[{"action_type":"execute_script", "script":"document.querySelector('[data-testid=app-sidebar]').style.width='0px';"}],
                    "trigger_element": {"selector": "button[data-testid='sidebar-toggle']"}, "action": {"type":"click"}, "wait_for_outcome_ms":500,
                    "expected_outcomes": [
                        {"outcome_type": "css_property_change", "element_selector": "[data-testid='app-sidebar']", "property_name":"width", "expected_value":"250px", "note":"Or check for class change / transform reset"},
                        {"outcome_type": "attribute_change", "element_selector":"button[data-testid='sidebar-toggle']", "attribute_name":"aria-expanded", "expected_value":"true"}
                    ]
                },
                {"type": "custom_script_evaluates_true", "name": "All Buttons Have Accessible Names", "script": "return Array.from(document.querySelectorAll('button')).every(btn => btn.textContent.trim() || btn.getAttribute('aria-label') || btn.querySelector('img[alt], svg[aria-label]'));", "points": 8, "note":"Very generic check, specific checks per button are better."}
            ]
        }
    ]
}